<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Brain Atlas for X-ALD MRI Severity Score</title>
    <meta name="description" content="Explore our interactive Brain Atlas tailored for MRI severity scoring in X-linked adrenoleukodystrophy (X-ALD), developed by leading researchers.">
    <meta name="keywords" content="X-ALD, Brain Atlas, MRI, Severity Scoring, Neurology, Adrenoleukodystrophy">
   
<style>
    body, html {
        height: 100%;
        margin: 0;
        font-family: Arial, sans-serif;
        background-color: #f5f5f5; /* light gray background for the whole page */
    }
    .sidebar {
        height: 100%;
        min-width: 200px; /* Ensures a minimum width */
        max-width: 210px; /* Sets a maximum width limit */
        width: auto; /* Allows width to expand based on content */
        position: fixed;
        z-index: 1;
        top: 0;
        left: 0;
        background-color: #f9f9f9; /* nearly white background for the sidebar */
        overflow-x: hidden; /* Ensures no horizontal scrollbar appears */
        padding-top: 20px;
        box-shadow: 2px 0 5px rgba(0, 0, 0, 0.1); /* soft shadow for depth */
    }

    .slider-instruction {
        font-size: 16px; /* Adjust font size for clarity */
        text-align: center; /* Center align the text */
        color: #666; /* Soft grey for readability */
        margin-bottom: 10px; /* Space between instruction and slider */
    }

    .sidebar img {
        width: 1%; /* Reducing the width to better fit the sidebar */
        max-width: 180px; /* Ensures that the image does not exceed this width */		
        height: auto; /* Keeps the aspect ratio intact */
        margin: 10px auto; /* Reduced margin and centered horizontally */
        display: block; /* Ensures that the image is block level to respect width and margin settings */
        background-color: #f9f9f9; /* background color for logos */
        padding: 5px; /* Reduced padding around the logos */
    }
    .sidebar a {
        padding: 5px 5px;
        text-decoration: none;
        font-size: 18px;
        color: #818181;
        display: block;
        white-space: nowrap; /* Ensures text does not wrap */
    }
    .sidebar a:hover {
        color: #f1f1f1;
    }
    .main {
        margin-left: 300px; /* Adjusts left margin to match max sidebar width */
        padding: 20px;
        background-color: #f5f5f5; /* ensuring the main content also has a light background */
    }

    #current-slice {
        max-width: 100%; /* Ensures the image is not wider than the container */
        max-height: 80vh; /* Limits the image height to 80% of the viewport height */
        height: auto; /* Maintains aspect ratio */
        display: block; /* Removes extra space below the image */
        margin: 0 auto; /* Centers the image horizontally */
    }

    #slice-slider {
        width: 90%;
        margin: 20px auto;
        display: block;
        -webkit-appearance: none; /* Overrides default styling */
        appearance: none;
        height: 15px; /* Increased track height for better touch */
        background: #ddd; /* Track color */
        outline: none; /* Removes the outline */
        opacity: 0.7; /* Makes the slider slightly transparent */
        transition: opacity .2s; /* Smooth transition for hover effects */
    }

    #slice-slider:hover {
        opacity: 1; /* Full opacity on hover */
    }

    /* Styles for the thumb */
    #slice-slider::-webkit-slider-thumb {
        -webkit-appearance: none; /* Overrides default styling */
        appearance: none;
        width: 25px; /* Width of the thumb */
        height: 25px; /* Height of the thumb, make it square */
        background: #4CAF50; /* Green color for visibility */
        cursor: pointer; /* Indicates that the element is draggable */
    }

    #slice-slider::-moz-range-thumb {
        width: 25px;
        height: 25px;
        background: #4CAF50;
        cursor: pointer;
    }

    .image-container {
        text-align: center;
        padding: 20px 0; /* Adds padding around the image */
    }
    .content {
        max-width: 800px;
        margin: auto;
        text-align: justify;
    }
    .structure-header {
        margin-top: 20px;
        font-size: 20px;
        color: #666;
    }
    table {
        width: 100%; /* Full width to expand to container size */
        border-collapse: collapse; /* Collapses border to avoid double lines */
        margin: 20px 0; /* Space above and below the table */
        font-size: 16px; /* Appropriate font size for readability */
    }
    th, td {
        border: 1px solid #ccc; /* Light gray border for each cell */
        padding: 8px; /* Padding inside each cell */
        text-align: left; /* Align text to the left */
    }
    th {
        background-color: #f9f9f9; /* Lighter background for header cells */
        color: #333; /* Dark text for contrast */
    }
    tr:nth-child(even) {
        background-color: #f2f2f2; /* Zebra striping for rows */
    }
    tr:hover {
        background-color: #ddd; /* Highlight on mouse over */
    }	
@media (max-width: 768px) {
    .sidebar {
        width: 200px; /* Optionally reduce the sidebar width on smaller screens */
    }

    .main {
        margin-left: 200px; /* Adjust margin to match the sidebar width */
    }

    #current-slice {
        max-height: 60vh; /* Reduces the height on smaller screens */
    }

    #slice-slider {
        height: 20px; /* Slightly taller track on small screens */
    }

    #slice-slider::-webkit-slider-thumb,
    #slice-slider::-moz-range-thumb {
        width: 30px; /* Larger thumb on small screens */
        height: 30px;
    }
}
</style>



</head>
<body>

<div class="sidebar">
    <a href="#" onclick="showHome()"><strong>Home</strong></a>
	<a href="#" onclick="loadImages('FRONTAL')">FRONTAL</a>
    <a href="#" onclick="loadImages('PARIETO_OCCIPITAL')">PARIETO OCCIPITAL</a>
	<a href="#" onclick="loadImages('ANTERIOR_TEMPORAL')">ANTERIOR TEMPORAL</a>
	<a href="#" onclick="loadImages('CORPUS_CALLOSUM')">CORPUS CALLOSUM</a>
	<a href="#" onclick="loadImages('THALAMUS')">THALAMUS</a>
	<a href="#" onclick="loadImages('CORTICOSPINAL')">CORTICOSPINAL</a>
	<a href="#" onclick="loadImages('ACOUSTIC')">ACOUSTIC</a>
    <a href="#" onclick="loadImages('OPTIC')">OPTIC</a>
	<a href="#" onclick="loadImages('MISC')">MISC</a>
    <a href="https://idi.gencat.cat/" target="_blank">
        <img src="images/IDI.gif" alt="IDI Logo" style="width: 100%; height: auto;">
    </a>
    <a href="https://bellvitgehospital.cat/ca" target="_blank">
        <img src="images/Bellvitge.png" alt="Bellvitge Hospital Universitari Logo" style="width: 100%; height: auto;">
    </a>
    <a href="https://idibell.cat/es/" target="_blank">
        <img src="images/IDIBELL.png" a    <a href=lt="IDIBELL Logo" style="width: 100%; height: auto;">
    </a>	
</div>

<div class="main">
    <div id="content" class="content">
        <h2>Welcome to the Brain Atlas for X-ALD</h2>
        <p>This educational website provides an interactive visual way to explore the atlas for X-linked adrenoleukodystrophy (X-ALD) developed by Naval-Baudin et al (2024), which is based on the descriptions of the X-ALD Disease Severity Scoring method described by <a href="https://www.ajnr.org/content/15/9/1761" target="_blank">Loes et al (1994)</a>.</p>
        <p>The atlas and this visual tool have been developed with contributions from researchers at the Bellvitge University Hospital, Institut de Diagnostic per la Imatge, and IDIBELL, aiming to make the evaluation of disease severity as accessible  as possible.</p>
        
		<p><a href="https://zenodo.org/records/11047634" target="_blank">Download the atlas files in MNI152 space in our Zenodo repository.</a> </p>
		
        <h3>MRI Severity Scoring System by Loes et al (1994)</h3>
        <p>The scoring system facilitates a detailed assessment of disease progression in X-ALD through MRI observations. Below is the scoring table that quantifies the severity across various brain regions:</p>
        
        <table border="1">
            <thead>
                <tr>
                    <th>Anatomical Region</th>
                    <th>Feature</th>
                    <th>Points Assigned</th>
                </tr>
            </thead>
            <tbody>
                <!-- Parietal-Occipital White Matter -->
                <tr>
                    <td rowspan="4">PARIETAL-OCCIPITAL WHITE MATTER</td>
                    <td>Periventricular</td>
                    <td>1</td>
                </tr>
                <tr>
                    <td>Central</td>
                    <td>1</td>
                </tr>
                <tr>
                    <td>Subcortical</td>
                    <td>1</td>
                </tr>
                <tr>
                    <td>Atrophy</td>
                    <td>1</td>
                </tr>
                <!-- Anterior Temporal White Matter -->
                <tr>
                    <td rowspan="4">ANTERIOR TEMPORAL WHITE MATTER</td>
                    <td>Periventricular</td>
                    <td>1</td>
                </tr>
                <tr>
                    <td>Central</td>
                    <td>1</td>
                </tr>
                <tr>
                    <td>Subcortical</td>
                    <td>1</td>
                </tr>
                <tr>
                    <td>Atrophy</td>
                    <td>1</td>
                </tr>
                <!-- Frontal White Matter -->
                <tr>
                    <td rowspan="4">FRONTAL WHITE MATTER</td>
                    <td>Periventricular</td>
                    <td>1</td>
                </tr>
                <tr>
                    <td>Central</td>
                    <td>1</td>
                </tr>
                <tr>
                    <td>Subcortical</td>
                    <td>1</td>
                </tr>
                <tr>
                    <td>Atrophy</td>
                    <td>1</td>
                </tr>
                <!-- Corpus Callosum -->
                <tr>
                    <td rowspan="5">CORPUS CALLOSUM</td>
                    <td>Splenium</td>
                    <td>1</td>
                </tr>
                <tr>
                    <td>Body</td>
                    <td>1</td>
                </tr>
                <tr>
                    <td>Genu</td>
                    <td>1</td>
                </tr>
                <tr>
                    <td>Atrophy-Splenium</td>
                    <td>1</td>
                </tr>
                <tr>
                    <td>Atrophy-Genu</td>
                    <td>1</td>
                </tr>
                <!-- Visual Pathway -->
                <tr>
                    <td rowspan="3">VISUAL PATHWAY</td>
                    <td>Optic Radiations</td>
                    <td>1</td>
                </tr>
                <tr>
                    <td>Lateral Geniculate Body</td>
                    <td>1</td>
                </tr>
                <tr>
                    <td>Meyer’s Loop</td>
                    <td>1</td>
                </tr>
                <!-- Auditory Pathway -->
                <tr>
                    <td rowspan="4">AUDITORY PATHWAY</td>
                    <td>Medial Geniculate Body</td>
                    <td>1</td>
                </tr>
                <tr>
                    <td>Brachium to Inferior Colliculus</td>
                    <td>1</td>
                </tr>
                <tr>
                    <td>Lateral Lemniscus (Midbrain)</td>
                    <td>1</td>
                </tr>
                <tr>
                    <td>Lateral Lemniscus (Pons)</td>
                    <td>1</td>
                </tr>
                <!-- Projection Fibers -->
                <tr>
                    <td rowspan="2">PROJECTION FIBERS</td>
                    <td>Internal Capsule</td>
                    <td>1</td>
                </tr>
                <tr>
                    <td>Brain Stem</td>
                    <td>1</td>
                </tr>
                <!-- Miscellaneous -->
                <tr>
                    <td rowspan="3">MISCELLANEOUS</td>
                    <td>Basal Ganglia</td>
                    <td>1</td>
                </tr>
                <tr>
                    <td>Cerebellum</td>
                    <td>1</td>
                </tr>
                <tr>
                    <td>Anterior Thalamus</td>
                    <td>1</td>
                </tr>
                <!-- Atrophy -->
                <tr>
                    <td rowspan="3">ATROPHY</td>
                    <td>Global</td>
                    <td>1-3</td>
                </tr>
                <tr>
                    <td>Brain Stem</td>
                    <td>1</td>
                </tr>
                <tr>
                    <td>Cerebellar</td>
                    <td>1</td>
                </tr>
                <!-- Maximum Severity Score -->
                <tr>
                    <td colspan="3"><strong>MAXIMUM SEVERITY SCORE: 34</strong></td>
                </tr>
            </tbody>
        </table>

        <p>For queries or suggestions, please contact <strong><a href="mailto:pablo.naval.idi@gencat.cat">pablo.naval.idi@gencat.cat</a></strong>.</p>
    </div>
</div>

<script>
function showHome() {
    const container = document.getElementById('content');
    container.innerHTML = `
        <h2>Welcome to the Brain Atlas for X-ALD</h2>
        <p>This educational website is designed to provide an interactive learning experience using the anatomical atlas tailored for MRI severity scoring in X-linked adrenoleukodystrophy (X-ALD).</p>
        <p>Developed by researchers at the Bellvitge University Hospital, Institut de Diagnostic per la Imatge, and IDIBELL "Neurometabolic diseases" and "Diagnostic Imaging and Nuclear Medicine" Research groups.</p>
        <h3>Explore Brain Regions</h3>
        <ul>
            <li><strong>FRONTAL:</strong> Deep, Middle, and Superficial layers of the frontal lobe.</li>
            <li><strong>PARIETO-OCCIPITAL:</strong> Deep, Middle, and Superficial layers of the parieto-occipital regions lobe.</li>
            <li><strong>ANTERIOR TEMPORAL:</strong> Deep, Middle, and Superficial layers of the anterior temporal lobe.</li>
            <li><strong>CORPUS CALLOSUM:</strong> Body, Genu, and Splenium.</li>
            <li><strong>THALAMUS:</strong> Anterior thalamus.</li>
            <li><strong>CORTICOSPINAL:</strong> Corticospinal tract separated by brainstem and internal capsule regions.</li>
            <li><strong>ACOUSTIC:</strong> Brachium, Lateral Lemniscus, Medial Geniculate ganglion, Pons.</li>
            <li><strong>OPTIC:</strong> Lateral Geniculate, Meyers Loop, Radiations.</li>
            <li><strong>MISC:</strong> Basal Ganglia, Cerebellum.</li>
        </ul>
        <p>Anyone is free to share and use the images however they want, though acknowledgement is appreciated.</p>
        <p>For doubts or suggestions please feel free to contact: <strong>pablo.naval.idi@gencat.cat</strong>.</p>
    `;
}
function loadImages(groupName) {
    const slices = {
        'ACOUSTIC': [31, 36, 41, 46, 51, 56, 61, 66, 68, 69, 71, 73, 78, 83],
        'ANTERIOR_TEMPORAL': [24, 29, 34, 39, 44, 49, 54, 59, 64, 69, 74, 79, 84, 89],
        'CORPUS_CALLOSUM': [65, 70, 75, 80, 85, 90, 95, 100, 105],
        'CORTICOSPINAL': [10, 15, 20, 25, 30, 35, 40, 45, 50, 55, 60, 65, 70, 75, 80, 85, 90, 95, 100],
        'FRONTAL': [48, 53, 58, 63, 68, 73, 78, 83, 88, 93, 98, 103, 108, 113, 118, 123, 128, 133, 138, 143, 148],
        'MISC': [12, 17, 22, 27, 32, 37, 42, 47, 52, 57, 62, 67, 72, 77, 82, 87, 92, 97],
        'OPTIC': [60, 63, 67, 68, 69, 70, 71, 74, 78, 82, 86, 90, 93],
        'PARIETO_OCCIPITAL': [52, 57, 62, 67, 72, 77, 82, 87, 92, 97, 102, 107, 112, 117, 122, 127, 132, 137, 142, 147],
        'THALAMUS': [65, 70, 75, 80, 85, 90]
    };

    // Define structure names for each group, with unique color for each substructure, displayed in bold
    const structureNames = {
        'ACOUSTIC': '<span style="color:#54489d;"><strong>Brachium</strong></span>, <span style="color:#efbf42;"><strong>Lateral Lemniscus</strong></span>, <span style="color:#6ff539;"><strong>Medial Geniculate</strong></span>, <span style="color:#d0ef3a;"><strong>Pons</strong></span>',
        'ANTERIOR_TEMPORAL': '<span style="color:#3da437;"><strong>Deep</strong></span>, <span style="color:#4d4caa;"><strong>Middle</strong></span>, <span style="color:#f99442;"><strong>Superficial</strong></span>',
        'CORPUS_CALLOSUM': '<span style="color:#f5d846;"><strong>Body</strong></span>, <span style="color:#44afdd;"><strong>Genu</strong></span>, <span style="color:#c5f345;"><strong>Splenium</strong></span>',
        'CORTICOSPINAL': '<span style="color:#cb464a;"><strong>Brainstem</strong></span>, <span style="color:#4eb277;"><strong>Internal Capsule</strong></span>',
        'FRONTAL': '<span style="color:#f3e366;"><strong>Deep</strong></span>, <span style="color:#f9d240;"><strong>Middle</strong></span>, <span style="color:#393939;"><strong>Superficial</strong></span>',
        'MISC': '<span style="color:#e93e3f;"><strong>Basal Ganglia</strong></span>, <span style="color:#7e2587;"><strong>Cerebellum</strong></span>',
        'OPTIC': '<span style="color:#48ad56;"><strong>Lateral Geniculate</strong></span>, <span style="color:#cb534c;"><strong>Meyers Loop</strong></span>, <span style="color:#58a1d5;"><strong>Radiations</strong></span>',
        'PARIETO_OCCIPITAL': '<span style="color:#e14549;"><strong>Deep</strong></span>, <span style="color:#4649d9;"><strong>Middle</strong></span>, <span style="color:#3fa2d9;"><strong>Superficial</strong></span>',
        'THALAMUS': '<span style="color:#2dafbb;"><strong>Anterior Thalamus</strong></span>'
    };

    const middleIndex = Math.floor(slices[groupName].length / 2); // Calculate middle index for the slider

    const container = document.getElementById('content');
    container.innerHTML = `
        <div style="text-align: center;">
            <div class="structure-header">Structures in ${groupName}: ${structureNames[groupName]}</div>
            <img id="current-slice" src="images/${groupName}/${groupName}_slice_${slices[groupName][middleIndex]}.jpeg" alt="Current Slice">
            <p class="slider-instruction">Drag the slider to view different slices:</p>
            <input type="range" id="slice-slider" class="slider" min="0" max="${slices[groupName].length - 1}" value="${middleIndex}" step="1" oninput="updateImage('${groupName}', ${JSON.stringify(slices[groupName])})" ontouchmove="updateImage('${groupName}', ${JSON.stringify(slices[groupName])})">
        </div>
    `;

    document.getElementById('slice-slider').addEventListener('touchstart', function() {
        this.focus(); // Enhances focus when touched, improving responsiveness
    });
}

function updateImage(groupName, slices) {
    const slider = document.getElementById('slice-slider');
    const img = document.getElementById('current-slice');
    const sliceIndex = slices[slider.value];
    img.src = `images/${groupName}/${groupName}_slice_${sliceIndex}.jpeg`;
}


</script>

</body>
</html>
